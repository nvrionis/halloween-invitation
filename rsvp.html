<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSVP to Malachar's Gathering</title>
    <link rel="icon" href="images/Halloween.jpg" type="image/jpeg">

    <!-- Link to custom CSS and calligraphic font from Google Fonts -->
    <link rel="stylesheet" href="rsvp-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script type="text/javascript">
    (function(){
        emailjs.init("Qs6coQYswL_5gL3a5");
    })();
    </script>

</head>
<body>

    <!-- Main Container -->
    <div id="container">
        <!-- Blood-red text animation for the RSVP invitation -->
        <header>
            <h1 id="rsvp-title" class="blood-text-container">
                <span style="--delay: 0s">R</span><span style="--delay: 0.15s">S</span><span style="--delay: 0.3s">V</span><span style="--delay: 0.45s">P</span>
                <span style="--delay: 0.6s">f</span><span style="--delay: 0.75s">o</span><span style="--delay: 0.9s">r</span>
                <span style="--delay: 1.05s">t</span><span style="--delay: 1.2s">h</span><span style="--delay: 1.35s">e</span>
                <span style="--delay: 1.5s">G</span><span style="--delay: 1.65s">a</span><span style="--delay: 1.8s">t</span><span style="--delay: 1.95s">h</span><span style="--delay: 2.1s">e</span><span style="--delay: 2.25s">r</span><span style="--delay: 2.4s">i</span><span style="--delay: 2.55s">n</span><span style="--delay: 2.7s">g</span>
            </h1>
        </header>
        
        <!-- Instructions for the form -->
        <section>
            <p class="blood-text">You have been summoned. Select your name and seal your acceptance in blood.</p>
        </section>

        <form id="rsvp-form">
            <label for="character-name" class="blood-text">Your Character's Name:</label>
            <select id="character-name" name="character-name" class="blood-text" required>
                <option value="" disabled selected>Select your character</option>
                <<option value="dracula">Count Dracula</option>
                <option value="wolfman">The Wolf Man</option>
                <option value="mummy">The Mummy</option>
                <option value="frankenstein">Frankenstein's Monster</option>
                <option value="phantom">The Phantom of the Opera</option>
                <option value="jekyllhyde">Dr. Jekyll and Mr. Hyde</option>
                <option value="wickedwitch">The Wicked Witch of the West</option>
                <option value="horseman">The Headless Horseman</option>
                <option value="freddy">Freddy Krueger</option>
                <option value="jason">Jason Voorhees</option>
                <option value="cruella">Cruella</option>
                <option value="chucky">Chucky</option>
                <option value="pennywise">Pennywise the Dancing Clown</option>
                <option value="samara">Samara</option>
                <option value="invisibleman">The Invisible Man</option>
                <option value="maleficent">Maleficent</option>
                <option value="ursula">Ursula</option>
                <option value="vader">Darth Vader</option>
                <option value="voldemort">Voldemort</option>
                <option value="lecter">Hannibal Lecter</option>
                <option value="joker">The Joker</option>
                <option value="jaffar">Jaffar</option>
                <option value="ghostface">Ghostface</option>
                <option value="beetlejuice">Beetlejuice</option>
                <option value="queen">Queen of Hearts</option>
                <!-- Other options... -->
            </select>
        
            <label for="signature" class="blood-text">Your Signature:</label>
            
            <!-- Signature Container -->
            <div id="signature-container" class="signature-hidden">
                <img id="signature-img" src="images/blood_spatter.png" alt="Signature" />
            </div>
        
            <button type="submit" id="acceptance-button" class="blood-text">Seal With Blood</button>
        </form>
 

        <!-- Blood spatter effect after submission -->
        <img src="images/blood_spatter.png" id="blood-spatter" class="fade-hidden" alt="Blood Spatter" />

    </div>

    <div id="custom-alert">
        <h2>Your acceptance has been sealed in blood.</h2>
        <p>See you at the Gathering...</p>
        <button id="close-alert">Close</button>
    </div>
    

    <!-- Script to handle form submission, signature change, and blood spatter effect -->
    <script>

        window.onload = function() {
            var signatureContainer = document.getElementById('signature-container');
            var signatureImg = document.getElementById('signature-img');

            // Hide the container by default on page load
            signatureContainer.classList.add('signature-hidden');

            document.getElementById('character-name').addEventListener('change', function() {
                var selectedCharacter = this.value;

                // Reset by hiding the container and removing previous classes
                signatureContainer.classList.add('signature-hidden');
                signatureContainer.classList.remove('blood'); // Remove blood class from the container
                signatureImg.src = ''; // Reset the image

                // If a character is selected, show the signature container
                if (selectedCharacter) {
                    signatureContainer.classList.remove('signature-hidden'); // Show the container

                    // Set the appropriate image based on character selection
                    switch (selectedCharacter) {
                        case 'dracula':
                            signatureImg.src = 'images/signatures_new/dracula.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'wolfman':
                            signatureImg.src = 'images/signatures_new/wolfman.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'mummy':
                            signatureImg.src = 'images/signatures_new/mummy.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'frankenstein':
                            signatureImg.src = 'images/signatures_new/frankenstein.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'phantom':
                            signatureImg.src = 'images/signatures_new/phantom.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'jekyllhyde':
                            signatureImg.src = 'images/signatures_new/jekyllhyde.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'wickedwitch':
                            signatureImg.src = 'images/signatures_new/wickedwitch.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'horseman':
                            signatureImg.src = 'images/signatures_new/horseman.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'freddy':
                            signatureImg.src = 'images/signatures_new/freddy.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'jason':
                            signatureImg.src = 'images/signatures_new/jason.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'cruella':
                            signatureImg.src = 'images/signatures_new/cruella.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'chucky':
                            signatureImg.src = 'images/signatures_new/chucky.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'pennywise':
                            signatureImg.src = 'images/signatures_new/pennywise.png';
                            break;
                        case 'samara':
                            signatureImg.src = 'images/signatures_new/samara.png';
                            break;
                        case 'invisibleman':
                            signatureImg.src = 'images/signatures_new/invisibleman.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'maleficent':
                            signatureImg.src = 'images/signatures_new/maleficent.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'ursula':
                            signatureImg.src = 'images/signatures_new/ursula.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'vader':
                            signatureImg.src = 'images/signatures_new/vader.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'voldemort':
                            signatureImg.src = 'images/signatures_new/voldemort.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'lecter':
                            signatureImg.src = 'images/signatures_new/lecter.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'joker':
                            signatureImg.src = 'images/signatures_new/joker.png';
                            break;
                        case 'jaffar':
                            signatureImg.src = 'images/signatures_new/jaffar.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'ghostface':
                            signatureImg.src = 'images/signatures_new/ghostface.png';
                            signatureContainer.classList.add('blood'); // Add blood background to the container
                            break;
                        case 'beetlejuice':
                            signatureImg.src = 'images/signatures_new/beetlejuice.png';
                            signatureContainer.classList.add('blood');
                            break;
                        case 'queen':
                            signatureImg.src = 'images/signatures_new/queen.png';
                            break;
                        default:
                            signatureImg.src = 'images/blood_spatter.png'; // Reset to blood spatter if no character is selected
                    }
                    // Scroll to the signature container with smooth behavior
                    signatureContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            });
        }
  

        document.getElementById('rsvp-form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Show the custom modal
            var customAlert = document.getElementById('custom-alert');
            customAlert.style.display = 'block';

            // Hide the blood spatter as well if needed
            var bloodSpatter = document.getElementById('blood-spatter');
            bloodSpatter.classList.remove('fade-hidden');
            bloodSpatter.classList.add('fade-visible');

            // EmailJS integration
            var characterName = document.getElementById('character-name').value;
            
            var templateParams = {
                character_name: characterName, // Pass the selected character
                message: 'RSVP to Malachar\'s Gathering'
            };

            emailjs.send('service_8mr8hwu', 'template_6wow1zn', templateParams)
            .then(function(response) {
                console.log('SUCCESS!', response.status, response.text);
            }, function(error) {
                console.log('FAILED...', error);
            });

            // Close the modal when clicking the "Close" button
            document.getElementById('close-alert').addEventListener('click', function() {
                customAlert.style.display = 'none';
            });
        });

    </script>

</body>
</html>
